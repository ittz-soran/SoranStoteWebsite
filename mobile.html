<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"
    />
    <!-- Add Google Fonts for Arabic/Kurdish support -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Great+Vibes&family=Judson:ital,wght@0,400;0,700;1,400&family=Noto+Kufi+Arabic:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mobile Accessories - Soran Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#5D5CDE",
              secondary: "#4F46E5",
            },
          },
        },
      };
    </script>

    <style>
      .gradient-bg {
        background: linear-gradient(135deg, #5d5cde 0%, #4f46e5 100%);
      }
      .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      
      /* Product page styles */
      .product-card {
        background: white;
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease;
      }
      
      .dark .product-card {
        background: #374151;
      }
      
      .product-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
      }
      
      .product-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }
      
      .price-tag {
        background: linear-gradient(135deg, #5d5cde, #4f46e5);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-weight: 600;
        font-size: 0.875rem;
      }
      
      .out-of-stock {
        background: linear-gradient(135deg, #6b7280, #4b5563);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-weight: 600;
        font-size: 0.875rem;
      }

      /* Product image overlay for specifications */
      .product-image-container {
        position: relative;
        overflow: hidden;
      }

      .product-specs-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(2px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 1rem;
        opacity: 0;
        transition: opacity 0.3s ease;
        color: white;
        text-align: center;
      }

      .product-card:hover .product-specs-overlay {
        opacity: 1;
      }

      .product-card:hover .product-image {
        transform: scale(1.05);
        filter: blur(1px);
      }

      .specs-title {
        font-size: 0.875rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #FBBF24;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .specs-list {
        font-size: 0.75rem;
        line-height: 1.4;
      }

      .specs-item {
        margin-bottom: 0.25rem;
        padding: 0.125rem 0;
      }

      .specs-item strong {
        color: #E5E7EB;
        display: inline-block;
        min-width: 60px;
        text-align: left;
      }
      
      /* Breadcrumb styles */
      .breadcrumb {
        color: #6b7280;
        transition: color 0.2s ease;
      }
      
      .breadcrumb:hover {
        color: #5d5cde;
      }
      
      .breadcrumb-separator {
        margin: 0 0.5rem;
        color: #9ca3af;
      }

      /* Loading styles */
      .loading-spinner {
        border: 3px solid #f3f4f6;
        border-top: 3px solid #5d5cde;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* RTL Support */
      [dir="rtl"] .space-x-8 > * + * {
        margin-left: 0;
        margin-right: 2rem;
      }

      [dir="rtl"] .space-x-4 > * + * {
        margin-left: 0;
        margin-right: 1rem;
      }

      /* Language switcher */
      .language-switcher {
        position: relative;
      }

      .language-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        z-index: 100;
        min-width: 140px;
      }

      .dark .language-dropdown {
        background: #374151;
        border-color: #4b5563;
      }

      [dir="rtl"] .language-dropdown {
        right: auto;
        left: 0;
      }

      /* Add font-family declarations */
      [lang="ar"],
      [lang="ku"] body {
        font-family: "Noto Kufi Arabic", sans-serif;
      }

      [lang="ar"] h1,
      [lang="ar"] h2,
      [lang="ar"] h3,
      [lang="ar"] h4,
      [lang="ar"] h5,
      [lang="ar"] h6,
      [lang="ku"] h1,
      [lang="ku"] h2,
      [lang="ku"] h3,
      [lang="ku"] h4,
      [lang="ku"] h5,
      [lang="ku"] h6 {
        font-weight: 700;
      }
    </style>
  </head>
  <body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- Navigation (same as main page) -->
    <nav class="bg-white dark:bg-gray-900 shadow-lg sticky top-0 z-50 transition-colors duration-300">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <h1 class="text-2xl font-bold text-primary" data-translate="nav.name">
                Soran Store
              </h1>
            </div>
          </div>

          <!-- Desktop Menu -->
          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-8">
              <a href="index.html" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.home">Home</a>
              <a href="index.html#about" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.about">About</a>
              <a href="index.html#services" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.services">Services</a>
              <a href="index.html#gallery" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.gallery">Gallery</a>
              <a href="index.html#products" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.products">Products</a>
              <a href="index.html#contact" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200" data-translate="nav.contact">Contact</a>
            </div>
          </div>

          <!-- Theme Toggle, Language Switcher & Mobile Menu -->
          <div class="flex items-center space-x-4">
            <!-- Dark/Light Mode Toggle -->
            <button id="theme-toggle" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700" title="Toggle theme">
              <svg id="theme-icon-light" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
              </svg>
              <svg id="theme-icon-dark" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
              </svg>
            </button>

            <!-- Language Switcher -->
            <div class="language-switcher">
              <button id="language-btn" class="flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-primary transition-colors duration-200 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
                </svg>
                <span id="current-lang">EN</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
              <div id="language-dropdown" class="language-dropdown hidden">
                <button class="language-option w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2" data-lang="en">
                  <span class="text-lg">ðŸ‡ºðŸ‡¸</span>
                  <span>English</span>
                </button>
                <button class="language-option w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2" data-lang="ar">
                  <span class="text-lg">ðŸ‡¸ðŸ‡¦</span>
                  <span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                </button>
                <button class="language-option w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 flex items-center space-x-2" data-lang="ku">
                  <span class="text-lg">ðŸ‡®ðŸ‡¶</span>
                  <span>Ú©ÙˆØ±Ø¯ÛŒ</span>
                </button>
              </div>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden">
              <button id="mobile-menu-btn" class="text-gray-700 dark:text-gray-300 hover:text-primary p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="md:hidden hidden">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white dark:bg-gray-900 border-t dark:border-gray-700">
          <a href="index.html" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.home">Home</a>
          <a href="index.html#about" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.about">About</a>
          <a href="index.html#services" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.services">Services</a>
          <a href="index.html#gallery" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.gallery">Gallery</a>
          <a href="index.html#products" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.products">Products</a>
          <a href="index.html#contact" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary" data-translate="nav.contact">Contact</a>
        </div>
      </div>
    </nav>

    <!-- Breadcrumb Navigation -->
    <section class="bg-gray-50 dark:bg-gray-800 py-4 transition-colors duration-300">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <nav class="flex items-center space-x-2 text-sm">
          <a href="index.html" class="breadcrumb" data-translate="breadcrumb.home">Home</a>
          <span class="breadcrumb-separator">></span>
          <a href="index.html#products" class="breadcrumb" data-translate="breadcrumb.products">Products</a>
          <span class="breadcrumb-separator">></span>
          <span class="text-gray-900 dark:text-gray-100 font-medium" data-translate="breadcrumb.mobile">Mobile Accessories</span>
        </nav>
      </div>
    </section>

    <!-- Header Section -->
    <section class="py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
          <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4" data-translate="mobile.title">
            Mobile Accessories
          </h1>
          <p class="text-xl text-gray-600 dark:text-gray-300" data-translate="mobile.subtitle">
            Premium mobile accessories for all your devices
          </p>
        </div>

        <!-- Back to Products Button -->
        <div class="mb-8">
          <a href="index.html#products" class="inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors duration-200">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            <span data-translate="mobile.backToProducts">Back to Products</span>
          </a>
        </div>

        <!-- Search Bar -->
        <div class="mb-8">
          <div class="relative max-w-md mx-auto">
            <input 
              type="text" 
              id="product-search" 
              placeholder="Search products..." 
              class="w-full px-4 py-3 pl-12 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base"
              data-translate-placeholder="mobile.searchPlaceholder"
            />
            <svg class="absolute left-4 top-3.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>

        <!-- Loading State -->
        <div id="loading-state" class="text-center py-12">
          <div class="loading-spinner mx-auto mb-4"></div>
          <p class="text-gray-600 dark:text-gray-400" data-translate="mobile.loading">Loading products...</p>
        </div>

        <!-- Error State -->
        <div id="error-state" class="hidden text-center py-12">
          <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2" data-translate="mobile.errorTitle">
            Failed to load products
          </h3>
          <p class="text-gray-600 dark:text-gray-400 mb-4" data-translate="mobile.errorDesc">
            Please check your connection and try again.
          </p>
          <button id="retry-btn" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors duration-200" data-translate="mobile.retry">
            Retry
          </button>
        </div>

        <!-- Products Grid -->
        <div id="products-grid" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          <!-- Products will be inserted here by JavaScript -->
        </div>

        <!-- No Results Message -->
        <div id="no-results" class="hidden text-center py-12">
          <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
          </svg>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2" data-translate="mobile.noResults">
            No products found
          </h3>
          <p class="text-gray-600 dark:text-gray-400" data-translate="mobile.noResultsDesc">
            Try adjusting your search terms to find what you're looking for.
          </p>
        </div>
      </div>
    </section>

    <!-- Footer (same as main page) -->
    <footer class="bg-gray-900 text-white py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-2xl font-bold text-primary mb-4">Soran Store</h3>
            <p class="text-gray-400" data-translate="footer.tagline">
              Your trusted partner for quality products and exceptional service.
            </p>
          </div>

          <div>
            <h4 class="text-lg font-semibold mb-4" data-translate="footer.quickLinks">Quick Links</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="index.html" class="hover:text-white transition-colors duration-200" data-translate="nav.home">Home</a></li>
              <li><a href="index.html#about" class="hover:text-white transition-colors duration-200" data-translate="nav.about">About</a></li>
              <li><a href="index.html#services" class="hover:text-white transition-colors duration-200" data-translate="nav.services">Services</a></li>
              <li><a href="index.html#gallery" class="hover:text-white transition-colors duration-200" data-translate="nav.gallery">Gallery</a></li>
            </ul>
          </div>

          <div>
            <h4 class="text-lg font-semibold mb-4" data-translate="footer.products">Products</h4>
            <ul class="space-y-2 text-gray-400">
              <li><a href="computer.html" class="hover:text-white transition-colors duration-200" data-translate="products.computer">Computer</a></li>
              <li><a href="gaming.html" class="hover:text-white transition-colors duration-200" data-translate="products.gaming">Gaming</a></li>
              <li><a href="network.html" class="hover:text-white transition-colors duration-200" data-translate="products.network">Network</a></li>
              <li><a href="mobile.html" class="hover:text-white transition-colors duration-200" data-translate="products.mobile">Mobile Accessories</a></li>
            </ul>
          </div>

          <div>
            <h4 class="text-lg font-semibold mb-4" data-translate="footer.follow">Follow Us</h4>
            <div class="flex space-x-4">
              <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path>
                </svg>
              </a>
              <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path>
                </svg>
              </a>
              <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                </svg>
              </a>
            </div>
          </div>
        </div>

        <div class="mt-8 pt-8 border-t border-gray-800 text-center text-gray-400">
          <p data-translate="footer.copyright">Â© 2025 Soran Store. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- Product Details Modal -->
    <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 hidden">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-4xl w-full max-h-screen overflow-y-auto">
        <div class="relative">
          <!-- Close Button -->
          <button 
            onclick="closeProductModal()" 
            class="absolute top-4 right-4 z-10 bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white p-2 rounded-full shadow-lg transition-colors duration-200"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>

          <!-- Modal Content -->
          <div class="md:flex">
            <!-- Product Image -->
            <div class="md:w-1/2">
              <img id="modalImage" src="" alt="" class="w-full h-64 md:h-96 object-cover rounded-t-lg md:rounded-l-lg md:rounded-tr-none">
            </div>

            <!-- Product Details -->
            <div class="md:w-1/2 p-6">
              <div class="flex justify-between items-start mb-4">
                <h2 id="modalTitle" class="text-2xl font-bold text-gray-900 dark:text-white"></h2>
                <span id="modalPrice" class="price-tag text-lg"></span>
              </div>

              <p id="modalDescription" class="text-gray-600 dark:text-gray-300 mb-6"></p>

              <!-- Specifications -->
              <div id="modalSpecifications" class="mb-6">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Specifications</h3>
                <div id="modalSpecsList" class="space-y-2"></div>
              </div>

              <!-- Product URL -->
              <div class="mb-6 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg">
                <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-2">Share this product:</h4>
                <div class="flex items-center space-x-2">
                  <input 
                    id="modalProductURL" 
                    type="text" 
                    readonly 
                    class="flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white"
                  >
                  <button 
                    onclick="copyProductURL()" 
                    class="px-4 py-2 bg-primary text-white text-sm rounded hover:bg-secondary transition-colors duration-200"
                  >
                    ðŸ“‹ Copy
                  </button>
                </div>
              </div>

              <!-- Order Button -->
              <div id="modalOrderButton" class="w-full">
                <!-- Button will be inserted here by JavaScript -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Translation data
      const translations = {
        en: {
          nav: {
            name: "Soran Store",
            home: "Home",
            about: "About",
            services: "Services",
            gallery: "Gallery",
            products: "Products",
            contact: "Contact",
          },
          breadcrumb: {
            home: "Home",
            products: "Products",
            mobile: "Mobile Accessories"
          },
          mobile: {
            title: "Mobile Accessories",
            subtitle: "Premium mobile accessories for all your devices",
            backToProducts: "Back to Products",
            searchPlaceholder: "Search products...",
            loading: "Loading products...",
            noResults: "No products found",
            noResultsDesc: "Try adjusting your search terms to find what you're looking for.",
            orderWhatsapp: "Order via WhatsApp",
            outOfStock: "Out of Stock",
            errorTitle: "Failed to load products",
            errorDesc: "Please check your connection and try again.",
            retry: "Retry"
          },
          products: {
            computer: "Computer",
            gaming: "Gaming",
            network: "Network",
            mobile: "Mobile Accessories",
          },
          footer: {
            tagline: "Your trusted partner for quality products and exceptional service.",
            quickLinks: "Quick Links",
            products: "Products",
            follow: "Follow Us",
            copyright: "Â© 2025 Soran Store. All rights reserved.",
          },
        },
        ar: {
          nav: {
            name: "Ø³Ù€Û†Ø±Ø§Ù† Ø³Ù€ØªÙˆØ±",
            home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            about: "Ù…Ù† Ù†Ø­Ù†",
            services: "Ø§Ù„Ø®Ø¯Ù…Ø§Øª",
            gallery: "Ø§Ù„Ù…Ø¹Ø±Ø¶",
            products: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
            contact: "ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§",
          },
          breadcrumb: {
            home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            products: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
            mobile: "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„"
          },
          mobile: {
            title: "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„",
            subtitle: "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ù…Ø­Ù…ÙˆÙ„ Ù…ØªÙ…ÙŠØ²Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø£Ø¬Ù‡Ø²ØªÙƒÙ…",
            backToProducts: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª",
            searchPlaceholder: "Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...",
            loading: "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...",
            noResults: "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª",
            noResultsDesc: "Ø­Ø§ÙˆÙ„ ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø§ ØªØ¨Ø­Ø« Ø¹Ù†Ù‡.",
            orderWhatsapp: "Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨",
            outOfStock: "ØºÙŠØ± Ù…ØªÙˆÙØ±",
            errorTitle: "ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
            errorDesc: "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
            retry: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"
          },
          products: {
            computer: "Ø§Ù„Ø­Ø§Ø³ÙˆØ¨",
            gaming: "Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨",
            network: "Ø§Ù„Ø´Ø¨ÙƒØ©",
            mobile: "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙˆÙ„",
          },
          footer: {
            tagline: "Ø´Ø±ÙŠÙƒÙƒÙ… Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©.",
            quickLinks: "Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©",
            products: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
            follow: "ØªØ§Ø¨Ø¹Ù†Ø§",
            copyright: "Â© 2025 Ø³Ù€Û†Ø±Ø§Ù† Ø³Ù€ØªÙˆØ±. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",
          },
        },
        ku: {
          nav: {
            name: "Ø³Ù€Û†Ø±Ø§Ù† Ø³Ù€ØªÛ†Ø±",
            home: "Ø³Û•Ø±Û•Ú©ÛŒ",
            about: "Ø¯Û•Ø±Ø¨Ø§Ø±Û•Ù…Ø§Ù†",
            services: "Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒ",
            gallery: "Ù¾ÛŽØ´Ø§Ù†Ø¯Û•Ø±",
            products: "Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†",
            contact: "Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ",
          },
          breadcrumb: {
            home: "Ø³Û•Ø±Û•Ú©ÛŒ",
            products: "Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†",
            mobile: "Ú©Û•Ø±Û•Ø³ØªÛ•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„"
          },
          mobile: {
            title: "Ú©Û•Ø±Û•Ø³ØªÛ•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„",
            subtitle: "Ú©Û•Ø±Û•Ø³ØªÛ•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„ÛŒ Ø¨Ø§Ø´ Ø¨Û† Ù‡Û•Ù…ÙˆÙˆ Ø¦Ø§Ù…ÛŽØ±Û•Ú©Ø§Ù†ØªØ§Ù†",
            backToProducts: "Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ• Ø¨Û† Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†",
            searchPlaceholder: "Ú¯Û•Ú•Ø§Ù† Ù„Û• Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†...",
            loading: "Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†...",
            noResults: "Ù‡ÛŒÚ† Ø¨Û•Ø±Ù‡Û•Ù…ÛŽÚ© Ù†Û•Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ•",
            noResultsDesc: "Ù‡Û•ÙˆÚµ Ø¨Ø¯Û• ÙˆØ´Û•Ú©Ø§Ù†ÛŒ Ú¯Û•Ú•Ø§Ù† Ø¨Ú¯Û†Ú•ÛŒØª Ø¨Û† Ø¯Û†Ø²ÛŒÙ†Û•ÙˆÛ•ÛŒ Ø¦Û•ÙˆÛ•ÛŒ Ø¯Û•ÛŒÛ•ÙˆÛŽØª.",
            orderWhatsapp: "Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ù„Û• Ú•ÛŽÚ¯Û•ÛŒ ÙˆØ§ØªØ³Ø§Ù¾",
            outOfStock: "ØªÛ•ÙˆØ§Ùˆ Ø¨ÙˆÙˆÛ•",
            errorTitle: "Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ù†Û•Ø¨ÙˆÙˆ Ù„Û• Ø¨Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†",
            errorDesc: "ØªÚ©Ø§ÛŒÛ• Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒÛ•Ú©Û•Øª Ø¨Ú©Û• Ùˆ Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ù‡Û•ÙˆÚµ Ø¨Ø¯Û•ÙˆÛ•.",
            retry: "Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ù‡Û•ÙˆÚµ Ø¨Ø¯Û•ÙˆÛ•"
          },
          products: {
            computer: "Ú©Û†Ù…Ù¾ÛŒÙˆØªÛ•Ø±",
            gaming: "ÛŒØ§Ø±ÛŒ",
            network: "ØªÛ†Ú•",
            mobile: "Ú©Û•Ø±Û•Ø³ØªÛ•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„",
          },
          footer: {
            tagline: "Ù‡Ø§ÙˆØ¨Û•Ø´ÛŒ Ù…ØªÙ…Ø§Ù†Û•Ù¾ÛŽÚ©Ø±Ø§ÙˆØªØ§Ù† Ø¨Û† Ø¨Û•Ø±Ù‡Û•Ù…ÛŒ Ú©ÙˆØ§Ù„ÛŒØªÛŒ Ø¨Û•Ø±Ø² Ùˆ Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒ ØªØ§ÛŒØ¨Û•Øª.",
            quickLinks: "Ø¨Û•Ø³ØªÛ•Ø±Û• Ø®ÛŽØ±Ø§Ú©Ø§Ù†",
            products: "Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Ø§Ù†",
            follow: "Ø´ÙˆÛŽÙ†Ù…Ø§Ù† Ø¨Ú©Û•ÙˆÙ†",
            copyright: "Â© 2025 Ø³Ù€Û†Ø±Ø§Ù† Ø³Ù€ØªÛ†Ø±. Ù‡Û•Ù…ÙˆÙˆ Ù…Ø§ÙÛ•Ú©Ø§Ù† Ù¾Ø§Ø±ÛŽØ²Ø±Ø§ÙˆÙ†.",
          },
        },
      };

      // Global variables
      let currentLanguage = "en";
      let allProducts = [];
      let filteredProducts = [];
      const rtlLanguages = ["ar", "ku"];

      // Load products from external JSON file
      async function loadProducts() {
        const loadingState = document.getElementById('loading-state');
        const errorState = document.getElementById('error-state');
        const productsGrid = document.getElementById('products-grid');

        try {
          // Show loading state
          loadingState.classList.remove('hidden');
          errorState.classList.add('hidden');
          productsGrid.classList.add('hidden');

          // Fetch products from JSON file
          const response = await fetch('products.json');
          
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          
          const data = await response.json();
          
          // Get mobile products
          allProducts = data.mobile || [];
          filteredProducts = [...allProducts];
          
          // Hide loading state and show products
          loadingState.classList.add('hidden');
          productsGrid.classList.remove('hidden');
          
          // Display products
          displayProducts(filteredProducts);
          
        } catch (error) {
          console.error('Failed to load products:', error);
          
          // Show error state
          loadingState.classList.add('hidden');
          errorState.classList.remove('hidden');
          productsGrid.classList.add('hidden');
        }
      }

      // Display products
      function displayProducts(products) {
        const grid = document.getElementById('products-grid');
        const noResults = document.getElementById('no-results');
        
        grid.innerHTML = '';
        
        if (products.length === 0) {
          grid.classList.add('hidden');
          noResults.classList.remove('hidden');
          return;
        }
        
        grid.classList.remove('hidden');
        noResults.classList.add('hidden');
        
        products.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'product-card';
          
          const isOutOfStock = product.inStock === false;
          const priceOrStock = isOutOfStock 
            ? `<span class="out-of-stock">${translations[currentLanguage].mobile.outOfStock}</span>`
            : `<span class="price-tag">${product.price}</span>`;
          
          const buttonState = isOutOfStock
            ? `<button class="w-full bg-gray-400 text-white py-2 px-4 rounded-lg cursor-not-allowed" disabled>
                 ${translations[currentLanguage].mobile.outOfStock}
               </button>`
            : `<button class="w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center justify-center space-x-2" 
                       onclick="orderViaWhatsApp(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                 <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                   <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.787"/>
                 </svg>
                 <span>${translations[currentLanguage].mobile.orderWhatsapp}</span>
               </button>`;

          // Generate specifications HTML
          const specsHtml = generateSpecsHtml(product.specifications);

          productCard.innerHTML = `
            <div class="product-image-container cursor-pointer" onclick="openProductModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">
              <img src="${product.image}" alt="${product.name}" class="product-image" loading="lazy">
              <div class="product-specs-overlay">
                <div class="specs-title">Specifications</div>
                <div class="specs-list">
                  ${specsHtml}
                </div>
              </div>
            </div>
            <div class="p-4">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-semibold text-gray-900 dark:text-white text-lg cursor-pointer" onclick="openProductModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">${product.name}</h3>
                ${priceOrStock}
              </div>
              <p class="text-gray-600 dark:text-gray-300 text-sm mb-3 cursor-pointer" onclick="openProductModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">${product.description}</p>
              ${buttonState}
            </div>
          `;
          grid.appendChild(productCard);
        });
      }

      // Generate specifications HTML
      function generateSpecsHtml(specifications) {
        if (!specifications || typeof specifications !== 'object') {
          return '<div class="specs-item">No specifications available</div>';
        }

        let specsHtml = '';
        for (const [key, value] of Object.entries(specifications)) {
          if (value) {
            const formattedKey = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
            specsHtml += `<div class="specs-item"><strong>${formattedKey}:</strong> ${value}</div>`;
          }
        }

        return specsHtml || '<div class="specs-item">No specifications available</div>';
      }

      // Generate order number
      function generateOrderNumber() {
        const now = new Date();
        const year = now.getFullYear().toString().slice(-2);
        const month = (now.getMonth() + 1).toString().padStart(2, '0');
        const day = now.getDate().toString().padStart(2, '0');
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');
        const seconds = now.getSeconds().toString().padStart(2, '0');
        
        return `ORD-${year}${month}${day}-${hours}${minutes}${seconds}`;
      }

      // WhatsApp ordering function
      function orderViaWhatsApp(product) {
        const orderNumber = generateOrderNumber();
        const whatsappNumber = "9647501252131"; // Your WhatsApp number
        
        // Get current domain for full image URL
        const currentDomain = window.location.origin;
        const fullImageURL = `${currentDomain}/${product.image}`;
        
        // Create the WhatsApp message
        let message = `ðŸ›’ *New Order Request*\n\n`;
        message += `ðŸ“‹ *Order Number:* ${orderNumber}\n`;
        message += `ðŸ“¦ *Product Name:* ${product.name}\n`;
        message += `ðŸ’° *Price:* ${product.price}\n`;
        message += `ðŸ“ *Description:* ${product.description}\n\n`;
        
        // Add specifications if available
        if (product.specifications && typeof product.specifications === 'object') {
          message += `ðŸ“‹ *Specifications:*\n`;
          for (const [key, value] of Object.entries(product.specifications)) {
            if (value) {
              const formattedKey = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
              message += `â€¢ ${formattedKey}: ${value}\n`;
            }
          }
          message += `\n`;
        }
        
        message += `ðŸ–¼ï¸ *Product Image:* ${fullImageURL}\n\n`;
        message += `ðŸ“· *Note:* I'll send the product image in the next message\n\n`;
        message += `ðŸ“ž Please confirm availability and provide delivery details.`;
        
        // Encode the message for URL
        const encodedMessage = encodeURIComponent(message);
        
        // Create WhatsApp URL
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
        
        // Open WhatsApp
        window.open(whatsappURL, '_blank');
        
        // Show instructions to user about sending image
        setTimeout(() => {
          showImageInstructions(fullImageURL, product.name);
        }, 2000);
      }

      // Show instructions for sending image
      function showImageInstructions(imageURL, productName) {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
        modal.innerHTML = `
          <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full">
            <div class="text-center">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">ðŸ“· Send Product Image</h3>
              <p class="text-gray-600 dark:text-gray-300 mb-4">
                To complete your order, please also send the product image in WhatsApp:
              </p>
              <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg mb-4">
                <img src="${imageURL.split('/').pop()}" alt="${productName}" class="w-full h-32 object-cover rounded mb-2">
                <p class="text-sm text-gray-600 dark:text-gray-300">Right-click and "Copy Image" then paste in WhatsApp</p>
              </div>
              <div class="flex space-x-3">
                <button 
                  class="flex-1 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors duration-200"
                  onclick="copyImageURL('${imageURL}')"
                >
                  ðŸ“‹ Copy Image URL
                </button>
                <button 
                  class="flex-1 px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors duration-200"
                  onclick="this.closest('.fixed').remove()"
                >
                  âœ… Got It
                </button>
              </div>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
        
        // Auto-remove after 10 seconds
        setTimeout(() => {
          if (document.body.contains(modal)) {
            document.body.removeChild(modal);
          }
        }, 10000);
      }

      // Copy image URL to clipboard
      function copyImageURL(url) {
        navigator.clipboard.writeText(url).then(() => {
          // Show success message
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = 'âœ… Copied!';
          button.classList.add('bg-green-600');
          
          setTimeout(() => {
            button.textContent = originalText;
            button.classList.remove('bg-green-600');
          }, 2000);
        }).catch(() => {
          // Fallback for older browsers
          const textArea = document.createElement('textarea');
          textArea.value = url;
          document.body.appendChild(textArea);
          textArea.select();
          document.execCommand('copy');
          document.body.removeChild(textArea);
          
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = 'âœ… Copied!';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        });
      }

      // Product Modal Functions
      function openProductModal(product) {
        const modal = document.getElementById('productModal');
        const modalImage = document.getElementById('modalImage');
        const modalTitle = document.getElementById('modalTitle');
        const modalPrice = document.getElementById('modalPrice');
        const modalDescription = document.getElementById('modalDescription');
        const modalSpecsList = document.getElementById('modalSpecsList');
        const modalProductURL = document.getElementById('modalProductURL');
        const modalOrderButton = document.getElementById('modalOrderButton');

        // Set product data
        modalImage.src = product.image;
        modalImage.alt = product.name;
        modalTitle.textContent = product.name;
        modalPrice.textContent = product.price;
        modalDescription.textContent = product.description;

        // Generate specifications for modal
        modalSpecsList.innerHTML = '';
        if (product.specifications && typeof product.specifications === 'object') {
          for (const [key, value] of Object.entries(product.specifications)) {
            if (value) {
              const formattedKey = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
              const specItem = document.createElement('div');
              specItem.className = 'flex justify-between text-sm';
              specItem.innerHTML = `
                <span class="font-medium text-gray-700 dark:text-gray-300">${formattedKey}:</span>
                <span class="text-gray-600 dark:text-gray-400">${value}</span>
              `;
              modalSpecsList.appendChild(specItem);
            }
          }
        } else {
          modalSpecsList.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-sm">No specifications available</p>';
        }

        // Generate product URL with hash
        const productSlug = product.name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
        const productURL = `${window.location.origin}${window.location.pathname}#product-${productSlug}`;
        modalProductURL.value = productURL;

        // Update browser URL
        window.location.hash = `product-${productSlug}`;

        // Generate order button
        const isOutOfStock = product.inStock === false;
        if (isOutOfStock) {
          modalOrderButton.innerHTML = `
            <button class="w-full bg-gray-400 text-white py-3 px-6 rounded-lg cursor-not-allowed text-lg" disabled>
              ${translations[currentLanguage].mobile.outOfStock}
            </button>
          `;
        } else {
          modalOrderButton.innerHTML = `
            <button class="w-full bg-green-500 text-white py-3 px-6 rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center justify-center space-x-3 text-lg" 
                    onclick="orderViaWhatsAppFromModal(${JSON.stringify(product).replace(/"/g, '&quot;')})">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.787"/>
              </svg>
              <span>${translations[currentLanguage].mobile.orderWhatsapp}</span>
            </button>
          `;
        }

        // Show modal
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }

      function closeProductModal() {
        const modal = document.getElementById('productModal');
        modal.classList.add('hidden');
        document.body.style.overflow = '';
        
        // Remove hash from URL
        history.pushState("", document.title, window.location.pathname + window.location.search);
      }

      function copyProductURL() {
        const urlInput = document.getElementById('modalProductURL');
        navigator.clipboard.writeText(urlInput.value).then(() => {
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = 'âœ… Copied!';
          button.classList.add('bg-green-600');
          
          setTimeout(() => {
            button.textContent = originalText;
            button.classList.remove('bg-green-600');
          }, 2000);
        }).catch(() => {
          // Fallback for older browsers
          urlInput.select();
          document.execCommand('copy');
          
          const button = event.target;
          const originalText = button.textContent;
          button.textContent = 'âœ… Copied!';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        });
      }

      function orderViaWhatsAppFromModal(product) {
        const orderNumber = generateOrderNumber();
        const whatsappNumber = "9647501252131"; // Your WhatsApp number
        
        // Get current modal URL
        const modalURL = document.getElementById('modalProductURL').value;
        
        // Create the WhatsApp message with modal URL
        let message = `ðŸ›’ *New Order Request*\n\n`;
        message += `ðŸ“‹ *Order Number:* ${orderNumber}\n`;
        message += `ðŸ“¦ *Product Name:* ${product.name}\n`;
        message += `ðŸ’° *Price:* ${product.price}\n`;
        message += `ðŸ“ *Description:* ${product.description}\n\n`;
        
        // Add specifications if available
        if (product.specifications && typeof product.specifications === 'object') {
          message += `ðŸ“‹ *Specifications:*\n`;
          for (const [key, value] of Object.entries(product.specifications)) {
            if (value) {
              const formattedKey = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
              message += `â€¢ ${formattedKey}: ${value}\n`;
            }
          }
          message += `\n`;
        }
        
        message += `ðŸ”— *Product Details:* ${modalURL}\n\n`;
        message += `ðŸ“ž Please confirm availability and provide delivery details.`;
        
        // Encode the message for URL
        const encodedMessage = encodeURIComponent(message);
        
        // Create WhatsApp URL
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
        
        // Open WhatsApp
        window.open(whatsappURL, '_blank');
      }

      // Check URL hash on page load for direct product links
      function checkURLHash() {
        const hash = window.location.hash;
        if (hash.startsWith('#product-')) {
          const productSlug = hash.replace('#product-', '');
          
          // Function to find and open product modal
          function findAndOpenProduct() {
            if (allProducts.length === 0) {
              // Products not loaded yet, try again
              setTimeout(findAndOpenProduct, 200);
              return;
            }
            
            // Find product by matching slug
            const product = allProducts.find(p => {
              const slug = p.name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');
              return slug === productSlug;
            });
            
            if (product) {
              // Hide products grid and show only the modal
              const productsGrid = document.getElementById('products-grid');
              const loadingState = document.getElementById('loading-state');
              const errorState = document.getElementById('error-state');
              
              // Hide all other content
              loadingState.classList.add('hidden');
              errorState.classList.add('hidden');
              productsGrid.classList.add('hidden');
              
              // Open the modal directly
              openProductModal(product);
              
              // Update page title
              document.title = `${product.name} - Mobile Accessories - Soran Store`;
            } else {
              // Product not found, show all products
              displayProducts(allProducts);
            }
          }
          
          // Start checking for products
          findAndOpenProduct();
        }
      }

      // Filter products based on search
      function filterProducts(searchTerm) {
        filteredProducts = allProducts.filter(product => 
          product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
          product.description.toLowerCase().includes(searchTerm.toLowerCase())
        );
        displayProducts(filteredProducts);
      }

      // Language and theme functions
      function setLanguage(lang) {
        currentLanguage = lang;
        const htmlElement = document.documentElement;

        htmlElement.setAttribute("lang", lang);

        if (rtlLanguages.includes(lang)) {
          htmlElement.setAttribute("dir", "rtl");
        } else {
          htmlElement.setAttribute("dir", "ltr");
        }

        const langCodes = { en: "EN", ar: "AR", ku: "KU" };
        document.getElementById("current-lang").textContent = langCodes[lang];

        const elements = document.querySelectorAll("[data-translate]");
        elements.forEach((element) => {
          const key = element.getAttribute("data-translate");
          const translation = getNestedTranslation(translations[lang], key);
          if (translation) {
            element.textContent = translation;
          }
        });

        const searchInput = document.getElementById("product-search");
        if (searchInput) {
          searchInput.placeholder = translations[lang].mobile.searchPlaceholder;
        }

        localStorage.setItem("preferredLanguage", lang);

        // Re-display products with updated language
        if (filteredProducts.length > 0) {
          displayProducts(filteredProducts);
        }
      }

      function getNestedTranslation(obj, path) {
        return path.split(".").reduce((current, key) => current && current[key], obj);
      }

      function initializeTheme() {
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      }

      function toggleTheme() {
        const htmlElement = document.documentElement;
        const isDark = htmlElement.classList.contains('dark');
        
        if (isDark) {
          htmlElement.classList.remove('dark');
          localStorage.setItem('theme', 'light');
        } else {
          htmlElement.classList.add('dark');
          localStorage.setItem('theme', 'dark');
        }
      }

      function initializeLanguage() {
        const savedLanguage = localStorage.getItem("preferredLanguage");
        if (savedLanguage && translations[savedLanguage]) {
          setLanguage(savedLanguage);
        }
      }

      // Event listeners
      document.addEventListener("DOMContentLoaded", function () {
        initializeTheme();
        initializeLanguage();

        // Load products
        loadProducts();

        // Check URL hash for direct product links
        checkURLHash();

        // Theme toggle button
        document.getElementById("theme-toggle").addEventListener("click", toggleTheme);

        // Language switcher functionality
        document.getElementById("language-btn").addEventListener("click", function () {
          const dropdown = document.getElementById("language-dropdown");
          dropdown.classList.toggle("hidden");
        });

        // Language option handlers
        document.querySelectorAll(".language-option").forEach((option) => {
          option.addEventListener("click", function () {
            const lang = this.getAttribute("data-lang");
            setLanguage(lang);
            document.getElementById("language-dropdown").classList.add("hidden");
          });
        });

        // Close dropdown when clicking outside
        document.addEventListener("click", function (event) {
          const langBtn = document.getElementById("language-btn");
          const dropdown = document.getElementById("language-dropdown");

          if (!langBtn.contains(event.target) && !dropdown.contains(event.target)) {
            dropdown.classList.add("hidden");
          }
        });

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");

        mobileMenuBtn.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
        });

        // Search functionality
        document.getElementById("product-search").addEventListener("input", function(e) {
          filterProducts(e.target.value);
        });

        // Retry button
        document.getElementById("retry-btn").addEventListener("click", loadProducts);
      });

      // Theme change listener
      window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (event) => {
        if (!localStorage.getItem('theme')) {
          if (event.matches) {
            document.documentElement.classList.add("dark");
          } else {
            document.documentElement.classList.remove("dark");
          }
        }
      });
    </script>
  </body>
</html>
